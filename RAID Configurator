```
# 独立磁盘冗余阵列 RAID (Redundant Array of Independent Disks)

## RAID 0（条带化）

**原理**：数据被分块（条带化）并均匀分布到多个磁盘上，无冗余。

**示例**（4块磁盘，数据 "ABCDEFGH"）：

```
Disk 1: [A][E] 
Disk 2: [B][F] 
Disk 3: [C][G] 
Disk 4: [D][H] 
```

- **优点**：  
  - 高性能：读写速度接近单盘的 N 倍（N=磁盘数量），数据并行写入。
  - 100% 磁盘利用率（无冗余开销）。
- **缺点**：  
  - 无容错能力：任意一块磁盘损坏，所有数据丢失。
- **适用场景**：  
  - 需要高速读写但对数据安全性要求不高，如视频编辑临时存储、游戏缓存、科学计算临时数据。

---

## RAID 1（镜像）

**原理**：数据完全复制（镜像）到所有磁盘，每块磁盘存储相同内容。

**示例**（4块磁盘，2组镜像）：

```
Disk 1: [A][B][C][D] 
Disk 2: [A][B][C][D] 
Disk 3: [E][F][G][H] 
Disk 4: [E][F][G][H] 
```

- **优点**：  
  - 高可靠性：即使一块磁盘损坏，数据仍可从另一块恢复。
  - 读取速度提升（可从任意磁盘读取）。
- **缺点**：  
  - 写入速度无提升（需写入所有磁盘）。
  - 存储利用率低：N 块磁盘仅提供单盘容量（冗余开销 50%）。
- **适用场景**：  
  - 对数据安全性要求高，如操作系统盘、数据库日志文件、关键配置文件存储。

---

## RAID 5（分布式奇偶校验）

**原理**：数据条带化分布，并在所有磁盘上存储奇偶校验信息（用于恢复数据），奇偶校验信息轮流存储在不同磁盘上。至少需要 3 块磁盘，允许损坏 1 块磁盘而不丢失数据。

**示例**（P = 奇偶校验块）：

```
Disk 1: [A][B][C][P] 
Disk 2: [D][E][P][F] 
Disk 3: [G][P][H][I] 
Disk 4: [P][J][K][L] 
```

- **优点**：  
  - 平衡性能与冗余，读取速度接近 RAID 0，写入速度较慢（需计算奇偶校验）。
  - 存储利用率较高：N 块磁盘 → N-1 块有效容量（冗余开销 1/N）。
- **缺点**：  
  - 重建时间长（磁盘故障后需重新计算校验）。
  - 写入性能较差（小文件随机写入效率低）。
- **适用场景**：  
  - 适合读多写少，如文件服务器、NAS 存储、企业级数据库（非高频写入）。

---

## RAID 10（RAID 1+0，镜像+条带化）

**原理**：先镜像（RAID 1），再条带化（RAID 0）。至少需要 4 块磁盘，分成两组镜像，再组合成条带。允许每组镜像中损坏 1 块磁盘（最多可坏 N/2 块，但不可同组全坏）。

**示例**：

```
镜像组1: 
Disk 1: [A][B]  Disk 2: [A][B] 

镜像组2: 
Disk 3: [C][D]  Disk 4: [C][D] 
```

- **优点**：  
  - 高性能+高可靠：读取速度接近 RAID 0，写入速度优于 RAID 5。
  - 快速重建（仅需复制镜像盘）。
- **缺点**：  
  - 存储利用率低：N 块磁盘 → N/2 有效容量（冗余开销 50%）。
- **适用场景**：  
  - 对性能和可靠性要求极高，如高频交易数据库、虚拟化平台、企业级应用服务器。

---

## RAID 对比总结

| RAID级别   | 最少磁盘数 | 容错能力         | 读取性能 | 写入性能 | 存储利用率 | 典型用途                |
| ---------- | ---------- | --------------- | -------- | -------- | ------------ | ----------------------- |
| RAID 0     | 2          | 无              | 极高     | 极高     | 100%         | 临时数据、高速缓存      |
| RAID 1     | 2          | 允许坏 1 块     | 高       | 中等     | 50%          | 系统盘、关键数据备份    |
| RAID 5     | 3          | 允许坏 1 块     | 高       | 较低     | (N-1)/N      | 文件服务器、NAS         |
| RAID 10    | 4          | 允许坏多块*     | 极高     | 高       | 50%          | 数据库、虚拟化平台      |

> *RAID 10 可容忍最多 N/2 块磁盘故障，但要求故障磁盘不在同一镜像组。
```
